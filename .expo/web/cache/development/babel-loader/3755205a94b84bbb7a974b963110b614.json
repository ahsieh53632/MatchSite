{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\MatchSite\\\\src\\\\pages\\\\ChatPage\\\\MessageList\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport Message from '../Message';\nimport moment from 'moment';\nimport Compose from '../Compose';\nimport './MessageList.css';\nexport default function MessageList(props) {\n  var user = props.user,\n      to = props.to,\n      messages = props.messages,\n      rest = _objectWithoutProperties(props, [\"user\", \"to\", \"messages\"]);\n\n  useEffect(function () {}, [messages]);\n\n  var renderMessages = function renderMessages() {\n    var i = 0;\n    var messageCount = messages.length;\n    var tempMessages = [];\n\n    while (i < messageCount) {\n      var previous = messages[i - 1];\n      var current = messages[i];\n      var next = messages[i + 1];\n      var isMine = current.author === user;\n      var currentMoment = moment(current.timestamp);\n      var prevBySameAuthor = false;\n      var nextBySameAuthor = false;\n      var startsSequence = true;\n      var endsSequence = true;\n      var showTimestamp = true;\n\n      if (previous) {\n        var previousMoment = moment(previous.timestamp);\n        var previousDuration = moment.duration(currentMoment.diff(previousMoment));\n        prevBySameAuthor = previous.author === current.author;\n\n        if (prevBySameAuthor && previousDuration.as('hours') < 1) {\n          startsSequence = false;\n        }\n\n        if (previousDuration.as('hours') < 1) {\n          showTimestamp = false;\n        }\n      }\n\n      if (next) {\n        var nextMoment = moment(next.timestamp);\n        var nextDuration = moment.duration(nextMoment.diff(currentMoment));\n        nextBySameAuthor = next.author === current.author;\n\n        if (nextBySameAuthor && nextDuration.as('hours') < 1) {\n          endsSequence = false;\n        }\n      }\n\n      tempMessages.push(React.createElement(Message, {\n        key: i,\n        isMine: isMine,\n        startsSequence: startsSequence,\n        endsSequence: endsSequence,\n        showTimestamp: showTimestamp,\n        data: current,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }));\n      i += 1;\n    }\n\n    return tempMessages;\n  };\n\n  return React.createElement(\"div\", {\n    className: \"message-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    className: \"message-list-container\",\n    style: {\n      padding: '10px',\n      paddingBottom: '70px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, renderMessages()), React.createElement(Compose, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["D:/MatchSite/src/pages/ChatPage/MessageList/index.js"],"names":["React","useEffect","useState","Message","moment","Compose","MessageList","props","user","to","messages","rest","renderMessages","i","messageCount","length","tempMessages","previous","current","next","isMine","author","currentMoment","timestamp","prevBySameAuthor","nextBySameAuthor","startsSequence","endsSequence","showTimestamp","previousMoment","previousDuration","duration","diff","as","nextMoment","nextDuration","push","padding","paddingBottom"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAO,mBAAP;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA,MAClCC,IADkC,GACHD,KADG,CAClCC,IADkC;AAAA,MAC5BC,EAD4B,GACHF,KADG,CAC5BE,EAD4B;AAAA,MACxBC,QADwB,GACHH,KADG,CACxBG,QADwB;AAAA,MACXC,IADW,4BACHJ,KADG;;AAIzCN,EAAAA,SAAS,CAAC,YAAM,CAEf,CAFQ,EAEN,CAACS,QAAD,CAFM,CAAT;;AAIA,MAAME,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,QAAIC,CAAC,GAAG,CAAR;AACA,QAAIC,YAAY,GAAGJ,QAAQ,CAACK,MAA5B;AACA,QAAIC,YAAY,GAAG,EAAnB;;AAEA,WAAOH,CAAC,GAAGC,YAAX,EAAyB;AACvB,UAAIG,QAAQ,GAAGP,QAAQ,CAACG,CAAC,GAAG,CAAL,CAAvB;AACA,UAAIK,OAAO,GAAGR,QAAQ,CAACG,CAAD,CAAtB;AACA,UAAIM,IAAI,GAAGT,QAAQ,CAACG,CAAC,GAAG,CAAL,CAAnB;AACA,UAAIO,MAAM,GAAGF,OAAO,CAACG,MAAR,KAAmBb,IAAhC;AACA,UAAIc,aAAa,GAAGlB,MAAM,CAACc,OAAO,CAACK,SAAT,CAA1B;AACA,UAAIC,gBAAgB,GAAG,KAAvB;AACA,UAAIC,gBAAgB,GAAG,KAAvB;AACA,UAAIC,cAAc,GAAG,IAArB;AACA,UAAIC,YAAY,GAAG,IAAnB;AACA,UAAIC,aAAa,GAAG,IAApB;;AAEA,UAAIX,QAAJ,EAAc;AACZ,YAAIY,cAAc,GAAGzB,MAAM,CAACa,QAAQ,CAACM,SAAV,CAA3B;AACA,YAAIO,gBAAgB,GAAG1B,MAAM,CAAC2B,QAAP,CAAgBT,aAAa,CAACU,IAAd,CAAmBH,cAAnB,CAAhB,CAAvB;AACAL,QAAAA,gBAAgB,GAAGP,QAAQ,CAACI,MAAT,KAAoBH,OAAO,CAACG,MAA/C;;AAEA,YAAIG,gBAAgB,IAAIM,gBAAgB,CAACG,EAAjB,CAAoB,OAApB,IAA+B,CAAvD,EAA0D;AACxDP,UAAAA,cAAc,GAAG,KAAjB;AACD;;AAED,YAAII,gBAAgB,CAACG,EAAjB,CAAoB,OAApB,IAA+B,CAAnC,EAAsC;AACpCL,UAAAA,aAAa,GAAG,KAAhB;AACD;AACF;;AAED,UAAIT,IAAJ,EAAU;AACR,YAAIe,UAAU,GAAG9B,MAAM,CAACe,IAAI,CAACI,SAAN,CAAvB;AACA,YAAIY,YAAY,GAAG/B,MAAM,CAAC2B,QAAP,CAAgBG,UAAU,CAACF,IAAX,CAAgBV,aAAhB,CAAhB,CAAnB;AACAG,QAAAA,gBAAgB,GAAGN,IAAI,CAACE,MAAL,KAAgBH,OAAO,CAACG,MAA3C;;AAEA,YAAII,gBAAgB,IAAIU,YAAY,CAACF,EAAb,CAAgB,OAAhB,IAA2B,CAAnD,EAAsD;AACpDN,UAAAA,YAAY,GAAG,KAAf;AACD;AACF;;AAEDX,MAAAA,YAAY,CAACoB,IAAb,CACE,oBAAC,OAAD;AACE,QAAA,GAAG,EAAEvB,CADP;AAEE,QAAA,MAAM,EAAEO,MAFV;AAGE,QAAA,cAAc,EAAEM,cAHlB;AAIE,QAAA,YAAY,EAAEC,YAJhB;AAKE,QAAA,aAAa,EAAEC,aALjB;AAME,QAAA,IAAI,EAAEV,OANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAYAL,MAAAA,CAAC,IAAI,CAAL;AACD;;AAED,WAAOG,YAAP;AACD,GAzDD;;AA2DE,SACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,KAAK,EAAE;AAACqB,MAAAA,OAAO,EAAE,MAAV;AAAkBC,MAAAA,aAAa,EAAE;AAAjC,KAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0F1B,cAAc,EAAxG,CADF,EAEE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAMH","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport Message from '../Message';\r\nimport moment from 'moment';\r\nimport Compose from '../Compose';\r\nimport './MessageList.css';\r\n\r\nexport default function MessageList(props) {\r\n  const {user, to, messages, ...rest} = props;\r\n\r\n\r\n  useEffect(() => {\r\n\r\n  }, [messages])\r\n\r\n  const renderMessages = () => {\r\n    let i = 0;\r\n    let messageCount = messages.length;\r\n    let tempMessages = [];\r\n\r\n    while (i < messageCount) {\r\n      let previous = messages[i - 1];\r\n      let current = messages[i];\r\n      let next = messages[i + 1];\r\n      let isMine = current.author === user;\r\n      let currentMoment = moment(current.timestamp);\r\n      let prevBySameAuthor = false;\r\n      let nextBySameAuthor = false;\r\n      let startsSequence = true;\r\n      let endsSequence = true;\r\n      let showTimestamp = true;\r\n\r\n      if (previous) {\r\n        let previousMoment = moment(previous.timestamp);\r\n        let previousDuration = moment.duration(currentMoment.diff(previousMoment));\r\n        prevBySameAuthor = previous.author === current.author;\r\n        \r\n        if (prevBySameAuthor && previousDuration.as('hours') < 1) {\r\n          startsSequence = false;\r\n        }\r\n\r\n        if (previousDuration.as('hours') < 1) {\r\n          showTimestamp = false;\r\n        }\r\n      }\r\n\r\n      if (next) {\r\n        let nextMoment = moment(next.timestamp);\r\n        let nextDuration = moment.duration(nextMoment.diff(currentMoment));\r\n        nextBySameAuthor = next.author === current.author;\r\n\r\n        if (nextBySameAuthor && nextDuration.as('hours') < 1) {\r\n          endsSequence = false;\r\n        }\r\n      }\r\n\r\n      tempMessages.push(\r\n        <Message\r\n          key={i}\r\n          isMine={isMine}\r\n          startsSequence={startsSequence}\r\n          endsSequence={endsSequence}\r\n          showTimestamp={showTimestamp}\r\n          data={current}\r\n        />\r\n      );\r\n\r\n      // Proceed to the next message.\r\n      i += 1;\r\n    }\r\n\r\n    return tempMessages;\r\n  }\r\n\r\n    return(\r\n      <div className=\"message-list\">\r\n        <div className=\"message-list-container\" style={{padding: '10px', paddingBottom: '70px'}}>{renderMessages()}</div>\r\n        <Compose />\r\n      </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}