{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\MatchSite\\\\src\\\\pages\\\\MainPage\\\\mainPage.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { Slide, AppBar } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport { navigate } from 'gatsby';\nimport SideBarHeader from './sideBarHeader';\nimport SideBar from './sideBar';\nimport CardStack from '../cardStack';\nimport { Router } from 'react-router-dom';\nimport Fade from '@material-ui/core/Fade';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nvar styles = function styles(theme) {\n  return {\n    '@global': {\n      'body': {\n        margin: '0',\n        padding: '0 0 0 0',\n        overflow: 'hidden'\n      }\n    },\n    container: {\n      width: '100%',\n      height: '100%',\n      margin: \"0\",\n      padding: '0 0 0 0',\n      overflow: 'hidden'\n    },\n    root: {\n      flexGrow: '1'\n    },\n    sideBar: {\n      width: 'fit-content'\n    }\n  };\n};\n\nvar MainPage = function (_React$Component) {\n  _inherits(MainPage, _React$Component);\n\n  var _super = _createSuper(MainPage);\n\n  function MainPage(props) {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      typeEl: null,\n      dateEl: null,\n      matchDate: null,\n      startTime: '1999-01-01',\n      endTime: '9999-12-30',\n      type: '*',\n      imgPath: '',\n      loc: 1\n    };\n    _this.matches = [];\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          userName = _this$props.userName,\n          rest = _objectWithoutProperties(_this$props, [\"classes\", \"userName\"]);\n\n      fetch('https://matchsitebackend.herokuapp.com/profile/get', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"account\": userName\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {\n          console.log('fetching matching time period');\n\n          _this2.setState(_objectSpread(_objectSpread({}, _this2.state), {}, {\n            startTime: data.data[0].startTime.toString().slice(0, 10),\n            endTime: data.data[0].endTime.toString().slice(0, 10),\n            loc: data.data[0].matchingLoc\n          }));\n        }\n      });\n    }\n  }, {\n    key: \"handleTypeClick\",\n    value: function handleTypeClick(e) {\n      var x = e.currentTarget;\n      this.setState({\n        typeEl: x,\n        dateEl: null\n      });\n    }\n  }, {\n    key: \"handleDateClick\",\n    value: function handleDateClick(e) {\n      var x = e.currentTarget;\n      this.setState({\n        typeEl: null,\n        dateEl: x\n      });\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        typeEl: null,\n        dateEl: null\n      });\n    }\n  }, {\n    key: \"handleChangeDate\",\n    value: function handleChangeDate(date) {\n      var startDate = new Date();\n      var newDate = new Date();\n\n      if (date === \"today\") {\n        newDate = startDate;\n      } else if (date === \"tmr\") {\n        newDate = new Date(startDate.getTime() + 1 * 86400000);\n      } else if (date === \"thisWeek\") {\n        newDate = new Date(startDate.getTime() + 7 * 86400000);\n      } else {\n        newDate = new Date(startDate.getTime() + 14 * 86400000);\n        startDate = new Date(startDate.getTime() + 7 * 86400000);\n      }\n\n      var start = startDate.getFullYear() + '-' + (startDate.getMonth() + 1) + '-' + startDate.getDate();\n      var end = newDate.getFullYear() + '-' + (newDate.getMonth() + 1) + '-' + newDate.getDate();\n      this.setState(_objectSpread(_objectSpread({}, this.state), {}, {\n        startTime: start,\n        endTime: end,\n        dateEl: null\n      }));\n    }\n  }, {\n    key: \"handleChangeType\",\n    value: function handleChangeType(type) {\n      this.setState(_objectSpread(_objectSpread({}, this.state), {}, {\n        type: type,\n        typeEl: null\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          userName = _this$props2.userName,\n          rest = _objectWithoutProperties(_this$props2, [\"classes\", \"userName\"]);\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }, React.createElement(\"meta\", {\n        name: \"viewport\",\n        content: \"minimum-scale=1, initial-scale=1, width=device-width\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      })), React.createElement(SideBarHeader, {\n        userName: userName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }), React.createElement(\"div\", {\n        className: classes.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }\n      }, React.createElement(Grid, {\n        container: true,\n        direction: 'row',\n        alignItems: \"flex-start\",\n        spacing: 0,\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        sm: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, React.createElement(Button, {\n        \"aria-controls\": \"fade-menu\",\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          return _this3.handleTypeClick(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, \"Choose Type\"), React.createElement(Menu, {\n        id: \"fade-menu\",\n        anchorEl: this.state.typeEl,\n        keepMounted: true,\n        open: Boolean(this.state.typeEl),\n        onClose: function onClose() {\n          _this3.handleClose();\n        },\n        TransitionComponent: Fade,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeType(\"machong\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }\n      }, \"\\u6253\\u9EBB\\u5C07\"), React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeType(\"movie\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, \"\\u770B\\u96FB\\u5F71\"), React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeType(\"eat\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, \"\\u5403\\u98EF\"), React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeType(\"*\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      }, \"ALL\"))), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        sm: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, React.createElement(Button, {\n        \"aria-controls\": \"date-menu\",\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          return _this3.handleDateClick(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, \"Choose Date\"), React.createElement(Menu, {\n        id: \"date-menu\",\n        anchorEl: this.state.dateEl,\n        keepMounted: true,\n        open: Boolean(this.state.dateEl),\n        onClose: function onClose() {\n          _this3.handleClose();\n        },\n        TransitionComponent: Fade,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }\n      }, React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeDate(\"today\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, \"\\u4ECA\\u5929\"), React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeDate(\"tmr\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, \"\\u660E\\u5929\"), React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeDate(\"thisWeek\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }\n      }, \"\\u9019\\u79AE\\u62DC\"), React.createElement(MenuItem, {\n        onClick: function onClick() {\n          return _this3.handleChangeDate(\"nextWeek\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, \"\\u4E0B\\u79AE\\u62DC\"))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }\n      }, React.createElement(CardStack, {\n        type: this.state.type,\n        startTime: this.state.startTime,\n        endTime: this.state.endTime,\n        userName: userName,\n        loc: this.state.loc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }\n      })))));\n    }\n  }]);\n\n  return MainPage;\n}(React.Component);\n\nexport default withStyles(styles)(MainPage);","map":{"version":3,"sources":["D:/MatchSite/src/pages/MainPage/mainPage.jsx"],"names":["React","Avatar","Button","CssBaseline","TextField","Checkbox","Grid","Box","Typography","withStyles","Container","Slide","AppBar","Card","navigate","SideBarHeader","SideBar","CardStack","Router","Fade","Menu","MenuItem","styles","theme","margin","padding","overflow","container","width","height","root","flexGrow","sideBar","MainPage","props","state","typeEl","dateEl","matchDate","startTime","endTime","type","imgPath","loc","matches","classes","userName","rest","fetch","method","headers","body","JSON","stringify","then","res","json","data","success","console","log","setState","toString","slice","matchingLoc","e","x","currentTarget","date","startDate","Date","newDate","getTime","start","getFullYear","getMonth","getDate","end","handleTypeClick","Boolean","handleClose","handleChangeType","handleDateClick","handleChangeDate","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Slide, AppBar } from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport { navigate } from 'gatsby';\r\nimport SideBarHeader from './sideBarHeader'\r\nimport SideBar from './sideBar'\r\nimport CardStack from '../cardStack'\r\nimport { Router } from 'react-router-dom';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst styles = theme => ({\r\n    '@global': {\r\n        'body': {\r\n          margin: '0',\r\n          padding: '0 0 0 0',\r\n          overflow: 'hidden',\r\n        },\r\n        \r\n      },\r\n    container: {\r\n        width: '100%',\r\n        height: '100%',\r\n        margin: `0`,\r\n        padding: '0 0 0 0',\r\n        overflow: 'hidden',\r\n    },\r\n    root: {\r\n        flexGrow: '1',\r\n    },\r\n    sideBar: {\r\n        width: 'fit-content',\r\n\r\n    }\r\n})\r\nclass MainPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            typeEl: null,\r\n            dateEl: null,\r\n            matchDate: null,\r\n            startTime: '1999-01-01',\r\n            endTime: '9999-12-30',\r\n            type: '*',\r\n            imgPath: '',\r\n            loc: 1,\r\n        };\r\n        this.matches = [];\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {classes, userName, ...rest} = this.props\r\n        fetch('https://matchsitebackend.herokuapp.com/profile/get', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"account\": userName,\r\n                })\r\n                })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.success) {\r\n                    console.log('fetching matching time period');\r\n                    this.setState({...this.state, \r\n                        startTime: data.data[0].startTime.toString().slice(0,10),\r\n                        endTime: data.data[0].endTime.toString().slice(0,10),\r\n                        loc: data.data[0].matchingLoc});\r\n                    }\r\n                    })\r\n    }\r\n\r\n\r\n    handleTypeClick(e) {\r\n        var x = e.currentTarget;\r\n        this.setState({typeEl: x, dateEl: null});\r\n    }\r\n\r\n    handleDateClick(e) {\r\n        var x = e.currentTarget;\r\n        this.setState({typeEl: null, dateEl: x});\r\n    }\r\n\r\n    handleClose() {\r\n        this.setState({typeEl: null, dateEl: null});\r\n    }\r\n\r\n    handleChangeDate(date) {\r\n        var startDate = new Date();\r\n        var newDate = new Date();\r\n        if (date === \"today\") {\r\n            newDate = startDate;\r\n        } else if (date === \"tmr\") {\r\n            newDate = new Date(startDate.getTime() + 1 * 86400000 );\r\n        } else if (date === \"thisWeek\") {\r\n            newDate = new Date(startDate.getTime() + 7 * 86400000 );\r\n        } else {\r\n            // next week\r\n            newDate = new Date(startDate.getTime() + 14 * 86400000 );\r\n            startDate = new Date(startDate.getTime() + 7 * 86400000 );\r\n        }\r\n        const start = startDate.getFullYear() +'-'+ (startDate.getMonth() + 1) +'-'+ startDate.getDate();\r\n        const end = newDate.getFullYear() +'-'+ (newDate.getMonth() + 1) +'-'+ newDate.getDate();\r\n        this.setState({...this.state, startTime: start,\r\n             endTime: end, dateEl: null});\r\n    }\r\n\r\n    handleChangeType(type) {\r\n        this.setState({...this.state, type: type, typeEl: null});\r\n    }\r\n\r\n    render() {\r\n        const {classes, userName, ...rest} = this.props\r\n        return (\r\n            <div>\r\n                <header>\r\n                <meta\r\n                name=\"viewport\"\r\n                content=\"minimum-scale=1, initial-scale=1, width=device-width\"\r\n                />\r\n                </header>\r\n            <SideBarHeader userName={userName}/>\r\n            <div className={classes.container}>    \r\n            <Grid container direction={'row'} alignItems=\"flex-start\" spacing={0} className={classes.root}>\r\n                <Grid item xs={6} sm={3}>\r\n                    <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={(e) => this.handleTypeClick(e)}>\r\n                        Choose Type\r\n                    </Button>\r\n                    <Menu \r\n                        id=\"fade-menu\"\r\n                        anchorEl={this.state.typeEl}\r\n                        keepMounted\r\n                        open={Boolean(this.state.typeEl)}\r\n                        onClose={() => {this.handleClose()}}\r\n                        TransitionComponent={Fade}\r\n                    >\r\n                        <MenuItem onClick={() => this.handleChangeType(\"machong\")}>打麻將</MenuItem>\r\n                        <MenuItem onClick={() => this.handleChangeType(\"movie\")}>看電影</MenuItem>\r\n                        <MenuItem onClick={() => this.handleChangeType(\"eat\")}>吃飯</MenuItem>\r\n                        <MenuItem onClick={() => this.handleChangeType(\"*\")}>ALL</MenuItem>\r\n                    </Menu>\r\n                </Grid>\r\n                <Grid item xs={6} sm={3}>\r\n                    <Button aria-controls=\"date-menu\" aria-haspopup=\"true\" onClick={(e) => this.handleDateClick(e)}>\r\n                        Choose Date\r\n                    </Button>\r\n                    <Menu \r\n                        id=\"date-menu\"\r\n                        anchorEl={this.state.dateEl}\r\n                        keepMounted\r\n                        open={Boolean(this.state.dateEl)}\r\n                        onClose={() => {this.handleClose()}}\r\n                        TransitionComponent={Fade}\r\n                    >\r\n                        <MenuItem onClick={() => this.handleChangeDate(\"today\")}>今天</MenuItem>\r\n                        <MenuItem onClick={() => this.handleChangeDate(\"tmr\")}>明天</MenuItem>\r\n                        <MenuItem onClick={() => this.handleChangeDate(\"thisWeek\")}>這禮拜</MenuItem>\r\n                        <MenuItem onClick={() => this.handleChangeDate(\"nextWeek\")}>下禮拜</MenuItem>\r\n                    </Menu>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <CardStack type={this.state.type} \r\n                        startTime={this.state.startTime}\r\n                        endTime={this.state.endTime}\r\n                        userName= {userName}\r\n                        loc={this.state.loc}/>\r\n                </Grid>\r\n                \r\n            </Grid>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default withStyles(styles)(MainPage);"]},"metadata":{},"sourceType":"module"}