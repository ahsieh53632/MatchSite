{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\MatchSite\\\\src\\\\pages\\\\signUp.jsx\";\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { useState } from 'react';\nimport { navigate } from 'gatsby';\n\nfunction Copyright() {\n  return React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, 'Copyright © ', React.createElement(Link, {\n    color: \"inherit\",\n    href: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, \"Your Website\"), ' ', new Date().getFullYear(), '.');\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    formControl: {\n      minWidth: 150,\n      margin: theme.spacing(1)\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing(3)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    }\n  };\n});\nexport default function SignUp() {\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUN = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPD = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      age = _useState8[0],\n      setAge = _useState8[1];\n\n  var _useState9 = useState(1),\n      _useState10 = _slicedToArray(_useState9, 2),\n      matching = _useState10[0],\n      setMatching = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      img = _useState12[0],\n      setImg = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      f = _useState14[0],\n      setFn = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      phoneNum = _useState16[0],\n      setPhone = _useState16[1];\n\n  function signUp(e) {\n    e.preventDefault();\n\n    if (typeof window !== 'undefined') {\n      var formData = new FormData();\n\n      var axios = require(\"axios\");\n\n      var config = {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      };\n      formData.append('file', img);\n      axios.post('https://matchsitebackend.herokuapp.com/upload/img', formData, config).then(function (res) {\n        setFn(res.data.name);\n        fetch('https://matchsitebackend.herokuapp.com/LoginPage/reg', {\n          method: 'PUT',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"username\": username,\n            \"password\": password,\n            \"name\": name,\n            \"age\": age,\n            \"matchingLoc\": matching,\n            \"img\": res.data.name,\n            \"phone\": phoneNum\n          })\n        }).then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          if (data.success) {\n            console.log('registered!');\n            navigate('/login');\n          } else {\n            alert('user prob already exists');\n            navigate('/signUp');\n          }\n        });\n      }).catch(function (err) {\n        alert('file upload failed!');\n      });\n    }\n  }\n\n  ;\n  return React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }), React.createElement(\"div\", {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, React.createElement(Avatar, {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, React.createElement(LockOutlinedIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  })), React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Sign up\"), React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: signUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, React.createElement(TextField, {\n    autoComplete: \"fname\",\n    name: \"username\",\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"username\",\n    label: \"user name\",\n    autoFocus: true,\n    color: \"secondary\",\n    onChange: function onChange(e) {\n      return setUN(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"password\",\n    label: \"password\",\n    color: \"secondary\",\n    onChange: function onChange(e) {\n      return setPD(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"name\",\n    label: \"name\",\n    color: \"secondary\",\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"age\",\n    label: \"age\",\n    color: \"secondary\",\n    onChange: function onChange(e) {\n      return setAge(Number(e.target.value));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"phone\",\n    label: \"phone number\",\n    color: \"secondary\",\n    onChange: function onChange(e) {\n      return setPhone(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    sm: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, \"Profile Image:\"), React.createElement(\"input\", {\n    type: \"file\",\n    onChange: function onChange(e) {\n      return setImg(e.target.files[0]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  })))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, React.createElement(FormControl, {\n    className: classes.formControl,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, React.createElement(TextField, {\n    label: \"matching Location\",\n    select: true,\n    id: \"matching Loc\",\n    value: matching,\n    onChange: function onChange(e) {\n      return setMatching(Number(e.target.value));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, React.createElement(MenuItem, {\n    value: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, \"Taipei City\"), React.createElement(MenuItem, {\n    value: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }, \"Others\")))), React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, \"Sign Up\"), React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, React.createElement(Link, {\n    href: \"/login\",\n    variant: \"body2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 15\n    }\n  }, \"Already have an account? Sign in\"))))), React.createElement(Box, {\n    mt: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, React.createElement(Copyright, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["D:/MatchSite/src/pages/signUp.jsx"],"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","Menu","MenuItem","FormControl","Select","useState","navigate","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","formControl","minWidth","margin","avatar","backgroundColor","palette","secondary","main","form","width","submit","SignUp","classes","username","setUN","password","setPD","name","setName","age","setAge","matching","setMatching","img","setImg","f","setFn","phoneNum","setPhone","signUp","e","preventDefault","window","formData","FormData","axios","require","config","headers","append","post","then","res","data","fetch","method","body","JSON","stringify","json","success","console","log","alert","catch","err","target","value","Number","files"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Menu, MenuItem } from '@material-ui/core';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { useState } from 'react';\r\nimport { navigate } from 'gatsby';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  formControl: {\r\n    minWidth: 150,\r\n    margin: theme.spacing(1)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const [username, setUN] = useState();\r\n  const [password, setPD] = useState();\r\n  const [name, setName] = useState();\r\n  const [age, setAge] = useState();\r\n  const [matching, setMatching] = useState(1);\r\n  const [img, setImg] = useState();\r\n  const [f, setFn] = useState();\r\n  const [phoneNum, setPhone] = useState();\r\n\r\n  function signUp(e) {\r\n    e.preventDefault()\r\n    if (typeof window !== 'undefined') {\r\n      const formData = new FormData();\r\n      const axios = require(\"axios\");\r\n      const config = {\r\n        headers: {\r\n            'content-type': 'multipart/form-data'\r\n        }\r\n    };\r\n      formData.append('file', img);\r\n      axios.post('https://matchsitebackend.herokuapp.com/upload/img', formData, config).then((res) => {\r\n        setFn(res.data.name);\r\n\r\n        fetch('https://matchsitebackend.herokuapp.com/LoginPage/reg', {\r\n          method: 'PUT',\r\n          headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n              \"username\": username,\r\n              \"password\": password,\r\n              \"name\": name,\r\n              \"age\": age,\r\n              \"matchingLoc\": matching,\r\n              \"img\": res.data.name,\r\n              \"phone\": phoneNum,\r\n          })\r\n          })\r\n          .then(res => res.json())\r\n          .then(data => {\r\n              if (data.success) {\r\n                console.log('registered!')\r\n                navigate('/login');\r\n              } else {\r\n                alert('user prob already exists')\r\n                navigate('/signUp');\r\n              }\r\n          })\r\n      }).catch(err => {\r\n        alert('file upload failed!');\r\n      });\r\n\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={signUp}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"username\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"user name\"\r\n                autoFocus\r\n                color='secondary'\r\n                onChange={(e) => setUN(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"password\"\r\n                label=\"password\"\r\n                color='secondary'\r\n                onChange={(e) => setPD(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"name\"\r\n                label=\"name\"\r\n                color='secondary'\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"age\"\r\n                label=\"age\"\r\n                color='secondary'\r\n                onChange={(e) => setAge(Number(e.target.value))}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"phone\"\r\n                label=\"phone number\"\r\n                color='secondary'\r\n                onChange={(e) => setPhone(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={5} sm={5}>\r\n                <div>\r\n                  <Typography>Profile Image:</Typography>\r\n                  <input type=\"file\" onChange={(e) => setImg(e.target.files[0])}/>\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12}>\r\n                <FormControl className={classes.formControl} color='secondary'>\r\n                    <TextField\r\n                        label=\"matching Location\"\r\n                        select\r\n                        id=\"matching Loc\"\r\n                        value={matching}\r\n                        onChange={(e) => setMatching(Number(e.target.value))}\r\n                    >\r\n\r\n                    <MenuItem value={1}>Taipei City</MenuItem>\r\n                    <MenuItem value={2}>Others</MenuItem>\r\n                    </TextField>\r\n                </FormControl>\r\n            </Grid>\r\n\r\n            \r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link href=\"/login\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}