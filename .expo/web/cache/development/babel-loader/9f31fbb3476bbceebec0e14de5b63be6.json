{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\MatchSite\\\\src\\\\pages\\\\ProfilePage\\\\profile.js\";\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { useState, useEffect } from 'react';\nimport Card from '@material-ui/core/Card';\nimport { navigate } from 'gatsby';\nimport Select from '@material-ui/core/Select';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    '@global': {\n      '*::-webkit-scrollbar': {\n        display: 'none'\n      },\n      '*::-webkit-scrollbar-track': {\n        '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)'\n      },\n      '*::-webkit-scrollbar-thumb': {\n        backgroundColor: 'rgba(255, 153, 153, .5)',\n        outline: '1px solid slategrey'\n      },\n      '*::-webkit-overflow-scrolling': 'touch',\n      'body': {\n        margin: '0',\n        padding: '0 0 0 0',\n        backgroundColor: '#E5F8FF'\n      }\n    },\n    root: {\n      justify: 'center',\n      width: '100%',\n      height: '100%',\n      margin: 'auto',\n      display: 'flex',\n      backgroundColor: '#E5F8FF',\n      flexGrow: '1'\n    },\n    paper: {\n      padding: '5px 15px 0 15px',\n      margin: 'auto',\n      width: '85vw',\n      height: '100vh',\n      backgroundColor: 'rgba(255,255,255, .8)',\n      overflowY: 'scroll',\n      overflowX: 'hidden'\n    },\n    img: {\n      margin: 'auto',\n      display: 'block',\n      height: '60vh',\n      width: '90vw',\n      objectFit: 'cover',\n      objectPosition: '0% 0%'\n    },\n    cell: {},\n    formControl: {\n      minWidth: 150,\n      margin: theme.spacing(1)\n    }\n  };\n});\n\nvar Profile = function Profile(_ref) {\n  var location = _ref.location;\n  var userName = typeof window !== 'undefined' ? location.state.username : \"\";\n\n  var _useState = useState({\n    name: '',\n    age: 0,\n    image_path: '',\n    msg: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      info = _useState2[0],\n      setInfo = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      matching = _useState4[0],\n      setMatching = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      msg = _useState6[0],\n      setMsg = _useState6[1];\n\n  var _useState7 = useState('https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Chang_Chia-Hang_giving_V-sign_20190414.jpg/1200px-Chang_Chia-Hang_giving_V-sign_20190414.jpg'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      img = _useState8[0],\n      setImg = _useState8[1];\n\n  var classes = useStyles();\n  useEffect(function () {\n    if (typeof window !== 'undefined') {\n      fetch('https://matchsitebackend.herokuapp.com/profile/get', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"account\": userName\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {\n          console.log('got info');\n          console.log(data.data[0]);\n          setInfo(data.data[0]);\n          setMatching(Number(data.data[0].matchingLoc));\n          setMsg(data.data[0].msg);\n        } else {\n          navigate('/login');\n        }\n      });\n    }\n  }, []);\n\n  function update() {\n    if (typeof window !== 'undefined') {\n      fetch('https://matchsitebackend.herokuapp.com/profile/update', {\n        method: 'PUT',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"account\": userName,\n          \"matchingLoc\": matching,\n          \"msg\": msg\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {\n          console.log('updated');\n        } else {\n          console.log('update failed');\n        }\n      });\n    }\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, React.createElement(\"head\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, React.createElement(\"meta\", {\n    name: \"viewport\",\n    content: \"minimum-scale=1, initial-scale=1, width=device-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  })), React.createElement(Card, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    direction: 'column',\n    spacing: 3,\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.cell,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, React.createElement(\"img\", {\n    className: classes.img,\n    src: 'https://matchsiteimg.s3.ap-northeast-2.amazonaws.com/' + info.image_path,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, React.createElement(Typography, {\n    variant: \"h4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, info.name, \", \", info.age)), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, React.createElement(TextField, {\n    label: \"about me\",\n    multiline: true,\n    rowsMax: 12,\n    variant: \"outlined\",\n    value: msg,\n    InputLabelProps: {\n      shrink: true\n    },\n    onChange: function onChange(e) {\n      return setMsg(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }), React.createElement(FormControl, {\n    className: classes.formControl,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, React.createElement(TextField, {\n    select: true,\n    label: \"matching Location\",\n    id: \"matching Loc\",\n    value: matching,\n    onChange: function onChange(e) {\n      return setMatching(Number(e.target.value));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  }, React.createElement(MenuItem, {\n    value: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, \"Taipei City\"), React.createElement(MenuItem, {\n    value: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, \"Others\")))), React.createElement(Grid, {\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, React.createElement(Button, {\n    onClick: function onClick() {\n      return update();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, \" Update \"), React.createElement(Button, {\n    onClick: function onClick(e) {\n      return navigate('/Main', {\n        state: {\n          username: userName\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, \" MainPage \")))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["D:/MatchSite/src/pages/ProfilePage/profile.js"],"names":["React","Button","Paper","CssBaseline","TextField","FormControl","Menu","MenuItem","Link","Grid","Typography","makeStyles","Container","useState","useEffect","Card","navigate","Select","useStyles","theme","display","backgroundColor","outline","margin","padding","root","justify","width","height","flexGrow","paper","overflowY","overflowX","img","objectFit","objectPosition","cell","formControl","minWidth","spacing","Profile","location","userName","window","state","username","name","age","image_path","msg","info","setInfo","matching","setMatching","setMsg","setImg","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","success","console","log","Number","matchingLoc","update","shrink","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper'\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { Menu, MenuItem } from '@material-ui/core';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useState, useEffect } from 'react';\r\nimport Card from '@material-ui/core/Card'\r\nimport { navigate } from 'gatsby'\r\nimport Select from '@material-ui/core/Select';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n        '*::-webkit-scrollbar': {\r\n          display: 'none'\r\n        },\r\n        '*::-webkit-scrollbar-track': {\r\n          '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)'\r\n        },\r\n        '*::-webkit-scrollbar-thumb': {\r\n          backgroundColor: 'rgba(255, 153, 153, .5)',\r\n          outline: '1px solid slategrey'\r\n        },\r\n        '*::-webkit-overflow-scrolling': 'touch',\r\n        'body': {\r\n            margin: '0',\r\n            padding: '0 0 0 0',\r\n            backgroundColor: '#E5F8FF',\r\n        },\r\n      },\r\n    root: {\r\n        justify: 'center',\r\n        width: '100%',\r\n        height: '100%',\r\n        margin: 'auto',\r\n        display: 'flex',\r\n        backgroundColor: '#E5F8FF',\r\n        flexGrow: '1',\r\n    },\r\n    \r\n    paper: {\r\n        padding: '5px 15px 0 15px',\r\n        margin: 'auto',\r\n        width: '85vw',\r\n        height: '100vh',\r\n        backgroundColor: 'rgba(255,255,255, .8)',\r\n        overflowY: 'scroll',\r\n        overflowX: 'hidden',\r\n    },\r\n\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        height: '60vh',\r\n        width: '90vw',\r\n        objectFit: 'cover',\r\n        objectPosition: '0% 0%'\r\n    },\r\n\r\n    cell: {\r\n    },\r\n\r\n    formControl: {\r\n        minWidth: 150,\r\n        margin: theme.spacing(1)\r\n      },\r\n}));\r\n\r\n\r\nconst Profile = ({location}) => {\r\n    const userName = (typeof window !== 'undefined') ? location.state.username : \"\";\r\n    const [info, setInfo] = useState({name: '', age: 0, image_path: '', msg: ''});\r\n    const [matching, setMatching] = useState(1);\r\n    const [msg, setMsg] = useState();\r\n    const [img, setImg] = useState('https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Chang_Chia-Hang_giving_V-sign_20190414.jpg/1200px-Chang_Chia-Hang_giving_V-sign_20190414.jpg');\r\n    const classes = useStyles();\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            fetch('https://matchsitebackend.herokuapp.com/profile/get', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"account\": userName,\r\n                })\r\n                })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.success) {\r\n                    console.log('got info');\r\n                    console.log(data.data[0]);\r\n                    setInfo(data.data[0]);\r\n                    setMatching(Number(data.data[0].matchingLoc));\r\n                    setMsg(data.data[0].msg);\r\n                    } else {\r\n                        navigate('/login');\r\n                    }\r\n                    })\r\n            }}, []);\r\n    \r\n    function update() {\r\n        if (typeof window !== 'undefined') {\r\n            fetch('https://matchsitebackend.herokuapp.com/profile/update', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"account\": userName,\r\n                    \"matchingLoc\": matching,\r\n                    \"msg\": msg,\r\n                })\r\n                })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.success) {\r\n                        console.log('updated');\r\n                    } else {\r\n                        console.log('update failed');\r\n                    }\r\n                    })\r\n            }\r\n    }\r\n    return (\r\n        <div>\r\n            <head>\r\n                <meta\r\n                name=\"viewport\"\r\n                content=\"minimum-scale=1, initial-scale=1, width=device-width\"\r\n                />\r\n            </head>\r\n            <Card className={classes.paper}>\r\n                <Grid container direction={'column'} spacing={3} justify=\"center\">\r\n                    <Grid item xs={12} className={classes.cell}>  \r\n                        <img className={classes.img} src={'https://matchsiteimg.s3.ap-northeast-2.amazonaws.com/'+info.image_path} />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant='h4'>\r\n                            {info.name}, {info.age}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            label= \"about me\"\r\n                            multiline\r\n                            rowsMax={12}\r\n                            variant=\"outlined\"\r\n                            value={msg}\r\n                            InputLabelProps={{shrink: true}}\r\n                            onChange={(e) => setMsg(e.target.value)}\r\n                        />\r\n                        <FormControl className={classes.formControl} color='secondary'>\r\n                            <TextField\r\n                                select\r\n                                label=\"matching Location\"\r\n                                id=\"matching Loc\"\r\n                                value={matching}\r\n                                onChange={(e) => setMatching(Number(e.target.value))}\r\n                            >\r\n\r\n                                <MenuItem value={1}>Taipei City</MenuItem>\r\n                                <MenuItem value={2}>Others</MenuItem>\r\n                            </TextField>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid container>\r\n                    <Button onClick={() => update()}> Update </Button>\r\n                    <Button onClick={(e) => navigate('/Main', {\r\n                                  state: {username: userName,},\r\n                                })}> MainPage </Button>\r\n                    </Grid>\r\n                </Grid>\r\n                \r\n            </Card>\r\n        </div>\r\n\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}