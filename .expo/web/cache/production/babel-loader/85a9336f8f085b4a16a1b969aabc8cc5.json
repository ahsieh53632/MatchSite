{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{Menu,MenuItem}from'@material-ui/core';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import{useState}from'react';import{navigate}from'gatsby';function Copyright(){return React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\"},'Copyright © ',React.createElement(Link,{color:\"inherit\",href:\"\"},\"Your Website\"),' ',new Date().getFullYear(),'.');}var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},formControl:{minWidth:150,margin:theme.spacing(1)},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',marginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)}};});export default function SignUp(){var classes=useStyles();var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUN=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPD=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),age=_useState8[0],setAge=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),matching=_useState10[0],setMatching=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),img=_useState12[0],setImg=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),f=_useState14[0],setFn=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),phoneNum=_useState16[0],setPhone=_useState16[1];function signUp(e){e.preventDefault();if(typeof window!=='undefined'){var formData=new FormData();var axios=require(\"axios\");var config={headers:{'content-type':'multipart/form-data'}};formData.append('file',img);axios.post('https://matchsitebackend.herokuapp.com/upload/img',formData,config).then(function(res){setFn(res.data.name);fetch('https://matchsitebackend.herokuapp.com/LoginPage/reg',{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"username\":username,\"password\":password,\"name\":name,\"age\":age,\"matchingLoc\":matching,\"img\":res.data.name,\"phone\":phoneNum})}).then(function(res){return res.json();}).then(function(data){if(data.success){console.log('registered!');navigate('/login');}else{alert('user prob already exists');navigate('/signUp');}});}).catch(function(err){alert('file upload failed!');});}};return React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},React.createElement(CssBaseline,null),React.createElement(\"div\",{className:classes.paper},React.createElement(Avatar,{className:classes.avatar},React.createElement(LockOutlinedIcon,null)),React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign up\"),React.createElement(\"form\",{className:classes.form,noValidate:true,onSubmit:signUp},React.createElement(Grid,{container:true,spacing:2},React.createElement(Grid,{item:true,xs:12,sm:6},React.createElement(TextField,{autoComplete:\"fname\",name:\"username\",variant:\"outlined\",required:true,fullWidth:true,id:\"username\",label:\"user name\",autoFocus:true,color:\"secondary\",onChange:function onChange(e){return setUN(e.target.value);}})),React.createElement(Grid,{item:true,xs:12,sm:6},React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"password\",label:\"password\",color:\"secondary\",onChange:function onChange(e){return setPD(e.target.value);}})),React.createElement(Grid,{item:true,xs:12,sm:6},React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"name\",label:\"name\",color:\"secondary\",onChange:function onChange(e){return setName(e.target.value);}})),React.createElement(Grid,{item:true,xs:12,sm:6},React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"age\",label:\"age\",color:\"secondary\",onChange:function onChange(e){return setAge(Number(e.target.value));}})),React.createElement(Grid,{item:true,xs:12,sm:6},React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"phone\",label:\"phone number\",color:\"secondary\",onChange:function onChange(e){return setPhone(e.target.value);}})),React.createElement(Grid,{item:true,xs:5,sm:5},React.createElement(\"div\",null,React.createElement(Typography,null,\"Profile Image:\"),React.createElement(\"input\",{type:\"file\",onChange:function onChange(e){return setImg(e.target.files[0]);}})))),React.createElement(Grid,{item:true,xs:12,sm:12},React.createElement(FormControl,{className:classes.formControl,color:\"secondary\"},React.createElement(TextField,{label:\"matching Location\",select:true,id:\"matching Loc\",value:matching,onChange:function onChange(e){return setMatching(Number(e.target.value));}},React.createElement(MenuItem,{value:1},\"Taipei City\"),React.createElement(MenuItem,{value:2},\"Others\")))),React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},\"Sign Up\"),React.createElement(Grid,{container:true,justify:\"flex-end\"},React.createElement(Grid,{item:true},React.createElement(Link,{href:\"/login\",variant:\"body2\"},\"Already have an account? Sign in\"))))),React.createElement(Box,{mt:5},React.createElement(Copyright,null)));}","map":{"version":3,"sources":["D:/MatchSite/src/pages/signUp.jsx"],"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","Menu","MenuItem","FormControl","Select","useState","navigate","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","formControl","minWidth","margin","avatar","backgroundColor","palette","secondary","main","form","width","submit","SignUp","classes","username","setUN","password","setPD","name","setName","age","setAge","matching","setMatching","img","setImg","f","setFn","phoneNum","setPhone","signUp","e","preventDefault","window","formData","FormData","axios","require","config","headers","append","post","then","res","data","fetch","method","body","JSON","stringify","json","success","console","log","alert","catch","err","target","value","Number","files"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Menu, MenuItem } from '@material-ui/core';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { useState } from 'react';\r\nimport { navigate } from 'gatsby';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  formControl: {\r\n    minWidth: 150,\r\n    margin: theme.spacing(1)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const [username, setUN] = useState();\r\n  const [password, setPD] = useState();\r\n  const [name, setName] = useState();\r\n  const [age, setAge] = useState();\r\n  const [matching, setMatching] = useState(1);\r\n  const [img, setImg] = useState();\r\n  const [f, setFn] = useState();\r\n  const [phoneNum, setPhone] = useState();\r\n\r\n  function signUp(e) {\r\n    e.preventDefault()\r\n    if (typeof window !== 'undefined') {\r\n      const formData = new FormData();\r\n      const axios = require(\"axios\");\r\n      const config = {\r\n        headers: {\r\n            'content-type': 'multipart/form-data'\r\n        }\r\n    };\r\n      formData.append('file', img);\r\n      axios.post('https://matchsitebackend.herokuapp.com/upload/img', formData, config).then((res) => {\r\n        setFn(res.data.name);\r\n\r\n        fetch('https://matchsitebackend.herokuapp.com/LoginPage/reg', {\r\n          method: 'PUT',\r\n          headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n              \"username\": username,\r\n              \"password\": password,\r\n              \"name\": name,\r\n              \"age\": age,\r\n              \"matchingLoc\": matching,\r\n              \"img\": res.data.name,\r\n              \"phone\": phoneNum,\r\n          })\r\n          })\r\n          .then(res => res.json())\r\n          .then(data => {\r\n              if (data.success) {\r\n                console.log('registered!')\r\n                navigate('/login');\r\n              } else {\r\n                alert('user prob already exists')\r\n                navigate('/signUp');\r\n              }\r\n          })\r\n      }).catch(err => {\r\n        alert('file upload failed!');\r\n      });\r\n\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={signUp}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"username\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"user name\"\r\n                autoFocus\r\n                color='secondary'\r\n                onChange={(e) => setUN(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"password\"\r\n                label=\"password\"\r\n                color='secondary'\r\n                onChange={(e) => setPD(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"name\"\r\n                label=\"name\"\r\n                color='secondary'\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"age\"\r\n                label=\"age\"\r\n                color='secondary'\r\n                onChange={(e) => setAge(Number(e.target.value))}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"phone\"\r\n                label=\"phone number\"\r\n                color='secondary'\r\n                onChange={(e) => setPhone(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={5} sm={5}>\r\n                <div>\r\n                  <Typography>Profile Image:</Typography>\r\n                  <input type=\"file\" onChange={(e) => setImg(e.target.files[0])}/>\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12}>\r\n                <FormControl className={classes.formControl} color='secondary'>\r\n                    <TextField\r\n                        label=\"matching Location\"\r\n                        select\r\n                        id=\"matching Loc\"\r\n                        value={matching}\r\n                        onChange={(e) => setMatching(Number(e.target.value))}\r\n                    >\r\n\r\n                    <MenuItem value={1}>Taipei City</MenuItem>\r\n                    <MenuItem value={2}>Others</MenuItem>\r\n                    </TextField>\r\n                </FormControl>\r\n            </Grid>\r\n\r\n            \r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link href=\"/login\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}