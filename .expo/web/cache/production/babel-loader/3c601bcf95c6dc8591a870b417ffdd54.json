{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import React,{useEffect,useState}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Checkbox from'@material-ui/core/Checkbox';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{Slide,Toolbar,List,ListItem,ListItemText,ListItemIcon,Divider,ListItemAvatar}from'@material-ui/core';import Card from'@material-ui/core/Card';import{navigate}from'gatsby';import MatchedHeader from'./matchedHeader';var useStyles=makeStyles(function(theme){return{'@global':{'*::-webkit-scrollbar':{width:'0.4em'},'*::-webkit-scrollbar-track':{'-webkit-box-shadow':'inset 0 0 6px rgba(0,0,0,0.00)'},'*::-webkit-scrollbar-thumb':{backgroundColor:'rgba(255, 153, 153, .5)',outline:'1px solid slategrey'},'*::-webkit-overflow-scrolling':'touch'},root:{position:'relative',width:'100%',padding:'0px 0px 0px 10px',height:'calc(100vh - 125px)',display:'flex',overflowY:'scroll',overflowX:'hidden'},avatar:{width:'45px',height:'45px',borderRadius:'50%',backgroundPosition:'center',position:'relative'},listItem:{width:'100%',padding:'10px 0 10px 0px',alignItems:'center'},txt:{zIndex:'-1',position:'relative',height:'45px',margin:'0',padding:'0 0 0 0',color:\"gray\",display:'block',background:'linear-gradient(90deg, #F76C6C 0%, rgba(255, 153, 153, 1) 80%)'}};});var handleClick=function handleClick(user,to,phone){navigate('../chat',{state:{user:user,to:to,phone:phone}});};var API='https://matchsitebackend.herokuapp.com/matched/get';var SideBar=function SideBar(props){var classes=useStyles();var userName=props.userName,rest=_objectWithoutProperties(props,[\"userName\"]);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),matched=_useState2[0],setMatched=_useState2[1];useEffect(function(){if(typeof window!=='undefined'){fetch('http://localhost:3000/matched/get',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"account\":userName})}).then(function(res){return res.json();}).then(function(data){if(data.success){console.log('got matched');console.log(data.data);setMatched(data.data);}else{console.log('failed');}});}},[]);return React.createElement(Container,{component:\"div\",maxWidth:\"xs\",justify:\"center\"},React.createElement(MatchedHeader,{userName:userName}),React.createElement(\"div\",{className:classes.root,\"aria-label\":\"main mailbox folders\"},React.createElement(List,{component:\"nav\",className:classes.listItem},matched.map(function(_ref){var username=_ref.username,name=_ref.name,image_path=_ref.image_path,matchType=_ref.matchType,startTime=_ref.startTime,endTime=_ref.endTime,phone=_ref.phone;return React.createElement(\"div\",{key:name},React.createElement(ListItem,{button:true,component:\"a\",onClick:function onClick(){return handleClick(userName,username,phone);},className:classes.listItem},React.createElement(ListItemIcon,null,React.createElement(\"img\",{className:classes.avatar,src:\"https://matchsiteimg.s3.ap-northeast-2.amazonaws.com/\"+image_path})),React.createElement(ListItemText,null,React.createElement(Typography,{variant:\"h5\"},name,\", \",matchType===\"*\"?\"anything\":matchType),React.createElement(Typography,{variant:\"subtitle1\"},\"FROM: [\",startTime.toString().slice(5,10),\"] TO: [\",endTime.toString().slice(5,10),\"]\"))),React.createElement(Divider,null));}))));};export default SideBar;","map":{"version":3,"sources":["D:/MatchSite/src/pages/MainPage/sideBar.js"],"names":["React","useEffect","useState","Avatar","Button","CssBaseline","TextField","Checkbox","Link","Grid","Box","Typography","makeStyles","Container","Slide","Toolbar","List","ListItem","ListItemText","ListItemIcon","Divider","ListItemAvatar","Card","navigate","MatchedHeader","useStyles","theme","width","backgroundColor","outline","root","position","padding","height","display","overflowY","overflowX","avatar","borderRadius","backgroundPosition","listItem","alignItems","txt","zIndex","margin","color","background","handleClick","user","to","phone","state","API","SideBar","props","classes","userName","rest","matched","setMatched","window","fetch","method","headers","body","JSON","stringify","then","res","json","data","success","console","log","map","username","name","image_path","matchType","startTime","endTime","toString","slice"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,KAAT,CAAgBC,OAAhB,CAAyBC,IAAzB,CAA+BC,QAA/B,CAAyCC,YAAzC,CAAuDC,YAAvD,CAAqEC,OAArE,CAA8EC,cAA9E,KAAoG,mBAApG,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAASC,QAAT,KAAyB,QAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,GAAMC,CAAAA,SAAS,CAAGb,UAAU,CAAC,SAACc,KAAD,QAAY,CACrC,UAAW,CACP,uBAAwB,CACtBC,KAAK,CAAE,OADe,CADjB,CAIP,6BAA8B,CAC5B,qBAAsB,gCADM,CAJvB,CAOP,6BAA8B,CAC5BC,eAAe,CAAE,yBADW,CAE5BC,OAAO,CAAE,qBAFmB,CAPvB,CAWP,gCAAiC,OAX1B,CAD0B,CAcrCC,IAAI,CAAE,CACFC,QAAQ,CAAE,UADR,CAEFJ,KAAK,CAAE,MAFL,CAGFK,OAAO,CAAE,kBAHP,CAIFC,MAAM,CAAE,qBAJN,CAKFC,OAAO,CAAE,MALP,CAMFC,SAAS,CAAE,QANT,CAOFC,SAAS,CAAE,QAPT,CAd+B,CAuBrCC,MAAM,CAAE,CACJV,KAAK,CAAE,MADH,CAEJM,MAAM,CAAE,MAFJ,CAGJK,YAAY,CAAE,KAHV,CAIJC,kBAAkB,CAAE,QAJhB,CAKJR,QAAQ,CAAE,UALN,CAvB6B,CA8BrCS,QAAQ,CAAE,CACNb,KAAK,CAAE,MADD,CAENK,OAAO,CAAE,iBAFH,CAGNS,UAAU,CAAE,QAHN,CA9B2B,CAoCrCC,GAAG,CAAE,CACDC,MAAM,CAAE,IADP,CAEDZ,QAAQ,CAAE,UAFT,CAGDE,MAAM,CAAE,MAHP,CAIDW,MAAM,CAAE,GAJP,CAKDZ,OAAO,CAAE,SALR,CAMDa,KAAK,CAAE,MANN,CAODX,OAAO,CAAE,OAPR,CAQDY,UAAU,CAAE,gEARX,CApCgC,CAAZ,EAAD,CAA5B,CAgDA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAOC,EAAP,CAAWC,KAAX,CAAqB,CACrC3B,QAAQ,CAAC,SAAD,CAAY,CAChB4B,KAAK,CAAE,CAACH,IAAI,CAAEA,IAAP,CAAaC,EAAE,CAAEA,EAAjB,CAAqBC,KAAK,CAAEA,KAA5B,CADS,CAAZ,CAAR,CAGH,CAJD,CAOA,GAAME,CAAAA,GAAG,CAAG,oDAAZ,CACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACvB,GAAMC,CAAAA,OAAO,CAAG9B,SAAS,EAAzB,CADuB,GAEhB+B,CAAAA,QAFgB,CAEKF,KAFL,CAEhBE,QAFgB,CAEHC,IAFG,0BAEKH,KAFL,6BAGOpD,QAAQ,CAAC,EAAD,CAHf,wCAGhBwD,OAHgB,eAGPC,UAHO,eAIvB1D,SAAS,CAAC,UAAM,CACZ,GAAI,MAAO2D,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CAC/BC,KAAK,CAAC,mCAAD,CAAsC,CACvCC,MAAM,CAAE,MAD+B,CAEvCC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAF8B,CAMvCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,UAAWV,QADM,CAAf,CANiC,CAAtC,CAAL,CAUKW,IAVL,CAUU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAVb,EAWKF,IAXL,CAWU,SAAAG,IAAI,CAAI,CACV,GAAIA,IAAI,CAACC,OAAT,CAAkB,CAClBC,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAD,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACA,IAAjB,EACAX,UAAU,CAACW,IAAI,CAACA,IAAN,CAAV,CACC,CAJD,IAIO,CACHE,OAAO,CAACC,GAAR,CAAY,QAAZ,EACH,CACA,CAnBT,EAoBP,CAAC,CAtBO,CAsBL,EAtBK,CAAT,CAwBA,MACI,qBAAC,SAAD,EAAW,SAAS,CAAC,KAArB,CAA2B,QAAQ,CAAC,IAApC,CAAyC,OAAO,CAAC,QAAjD,EACA,oBAAC,aAAD,EAAe,QAAQ,CAAEjB,QAAzB,EADA,CAEA,2BAAK,SAAS,CAAED,OAAO,CAACzB,IAAxB,CAA8B,aAAW,sBAAzC,EACI,oBAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,CAAsB,SAAS,CAAEyB,OAAO,CAACf,QAAzC,EACKkB,OAAO,CAACgB,GAAR,CAAY,kBAAEC,CAAAA,QAAF,MAAEA,QAAF,CAAYC,IAAZ,MAAYA,IAAZ,CAAkBC,UAAlB,MAAkBA,UAAlB,CAA8BC,SAA9B,MAA8BA,SAA9B,CAAyCC,SAAzC,MAAyCA,SAAzC,CAAoDC,OAApD,MAAoDA,OAApD,CAA6D9B,KAA7D,MAA6DA,KAA7D,OACb,4BAAK,GAAG,CAAE0B,IAAV,EACA,oBAAC,QAAD,EAAU,MAAM,KAAhB,CAAiB,SAAS,CAAC,GAA3B,CAA+B,OAAO,CAAE,yBAAM7B,CAAAA,WAAW,CAACS,QAAD,CAAWmB,QAAX,CAAqBzB,KAArB,CAAjB,EAAxC,CAAsF,SAAS,CAAEK,OAAO,CAACf,QAAzG,EACI,oBAAC,YAAD,MACI,2BAAK,SAAS,CAAEe,OAAO,CAAClB,MAAxB,CAAgC,GAAG,CAAE,wDAA0DwC,UAA/F,EADJ,CADJ,CAKA,oBAAC,YAAD,MACI,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,EACKD,IADL,MACaE,SAAS,GAAK,GAAd,CAAoB,UAApB,CAAiCA,SAD9C,CADJ,CAII,oBAAC,UAAD,EAAY,OAAO,CAAC,WAApB,YACYC,SAAS,CAACE,QAAV,GAAqBC,KAArB,CAA2B,CAA3B,CAA6B,EAA7B,CADZ,WACqDF,OAAO,CAACC,QAAR,GAAmBC,KAAnB,CAAyB,CAAzB,CAA2B,EAA3B,CADrD,KAJJ,CALA,CADA,CAeA,oBAAC,OAAD,MAfA,CADa,EAAZ,CADL,CADJ,CAFA,CADJ,CA4BH,CAxDD,CA0DA,cAAe7B,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Slide, Toolbar, List, ListItem, ListItemText, ListItemIcon, Divider, ListItemAvatar } from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport { navigate } from 'gatsby';\r\nimport MatchedHeader from './matchedHeader';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n        '*::-webkit-scrollbar': {\r\n          width: '0.4em'\r\n        },\r\n        '*::-webkit-scrollbar-track': {\r\n          '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)'\r\n        },\r\n        '*::-webkit-scrollbar-thumb': {\r\n          backgroundColor: 'rgba(255, 153, 153, .5)',\r\n          outline: '1px solid slategrey'\r\n        },\r\n        '*::-webkit-overflow-scrolling': 'touch',\r\n      },\r\n    root: {\r\n        position: 'relative',\r\n        width: '100%',\r\n        padding: '0px 0px 0px 10px',\r\n        height: 'calc(100vh - 125px)',\r\n        display: 'flex',\r\n        overflowY: 'scroll',\r\n        overflowX: 'hidden',\r\n    },\r\n    avatar: {\r\n        width: '45px',\r\n        height: '45px',\r\n        borderRadius: '50%',\r\n        backgroundPosition: 'center',\r\n        position: 'relative',\r\n    },\r\n    listItem: {\r\n        width: '100%',\r\n        padding: '10px 0 10px 0px',\r\n        alignItems: 'center',\r\n        \r\n    },\r\n    txt: {\r\n        zIndex: '-1',\r\n        position: 'relative',\r\n        height: '45px',\r\n        margin: '0',\r\n        padding: '0 0 0 0',\r\n        color: \"gray\",\r\n        display: 'block',\r\n        background: 'linear-gradient(90deg, #F76C6C 0%, rgba(255, 153, 153, 1) 80%)',\r\n}}));\r\n\r\n\r\nconst handleClick = (user, to, phone) => {\r\n    navigate('../chat', {\r\n        state: {user: user, to: to, phone: phone},\r\n      })\r\n}\r\n\r\n// TODO: REPLACE!\r\nconst API = 'https://matchsitebackend.herokuapp.com/matched/get'\r\nconst SideBar = (props) => {\r\n    const classes = useStyles();\r\n    const {userName, ...rest} = props;\r\n    const [matched, setMatched] = useState([]);\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            fetch('http://localhost:3000/matched/get', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"account\": userName,\r\n                })\r\n                })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.success) {\r\n                    console.log('got matched');\r\n                    console.log(data.data);\r\n                    setMatched(data.data);\r\n                    } else {\r\n                        console.log('failed');\r\n                    }\r\n                    })\r\n    }}, []);\r\n\r\n    return(\r\n        <Container component=\"div\" maxWidth=\"xs\" justify=\"center\" >\r\n        <MatchedHeader userName={userName}/>\r\n        <div className={classes.root} aria-label=\"main mailbox folders\">\r\n            <List component=\"nav\" className={classes.listItem}>\r\n                {matched.map(({username, name, image_path, matchType, startTime, endTime, phone}) => (\r\n                <div key={name}>\r\n                <ListItem button component=\"a\" onClick={() => handleClick(userName, username, phone)} className={classes.listItem}>\r\n                    <ListItemIcon>\r\n                        <img className={classes.avatar} src={\"https://matchsiteimg.s3.ap-northeast-2.amazonaws.com/\" + image_path}>\r\n                        </img>\r\n                    </ListItemIcon>\r\n                <ListItemText> \r\n                    <Typography variant=\"h5\">\r\n                        {name}, {matchType === \"*\" ? \"anything\" : matchType}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\">\r\n                        FROM: [{startTime.toString().slice(5,10)}] TO: [{endTime.toString().slice(5,10)}]\r\n                    </Typography>\r\n                </ListItemText>\r\n                </ListItem>\r\n                <Divider />\r\n                </div>))}\r\n            </List>\r\n        </div>\r\n        </Container>\r\n    );\r\n\r\n}\r\n\r\nexport default SideBar;"]},"metadata":{},"sourceType":"module"}